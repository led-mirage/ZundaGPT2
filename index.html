<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="ZundaGPT2 - ã‚­ãƒ£ãƒ©ã¨ã®å¯¾è©±ã‚’æ¥½ã—ã‚ã‚‹è»½é‡AIãƒãƒ£ãƒƒãƒˆã‚¢ãƒ—ãƒª">
    <meta property="og:title" content="ZundaGPT2 ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰">
    <meta property="og:description" content="æœ€æ–°ç‰ˆã®ZundaGPT2ã‚’ã“ã¡ã‚‰ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™ã€‚">
    <meta property="og:image" content="./icon.png">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary">
    <title>ZundaGPT2 ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</title>
    <link rel="icon" href="./icon.png" type="image/png">
    <style>
        html,
        body {
            height: 100%;
            margin: 0;
        }

        body {
            font-family: "Segoe UI", sans-serif;
            background: #f9fafb;
            color: #222;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 40px;
            box-sizing: border-box;
        }

        img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin-bottom: 0px;
        }

        h1 {
            font-size: 1.9rem;
            margin: 0px 0;
        }

        .tagline {
            color: #555;
            font-size: 1rem;
            margin-top: 10px;
            margin-bottom: 15px;
        }

        .version {
            color: #666;
            margin-top: 40px;
            margin-bottom: 25px;
        }

        .downloads {
            display: inline-block;
            text-align: left;
            background: #fff;
            border-radius: 12px;
            padding: 20px 30px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            border: 1px solid #e5e7eb;
            min-width: 340px;
        }

        .downloads a {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #0366d6;
            text-decoration: none;
            padding: 12px 10px;
            border-bottom: 1px solid #e5e7eb;
            transition: color 0.2s, background 0.2s;
        }

        .downloads a:hover {
            background: #f3f4f6;
            color: #0059c9;
        }

        .downloads a:last-child {
            border-bottom: none;
        }

        .os-label {
            font-weight: bold;
        }

        .size {
            color: #777;
            font-size: 0.9rem;
        }

        .footer {
            color: #999;
            font-size: 0.85rem;
            position: fixed;
            bottom: 10px;
            width: 100%;
            text-align: center;
            background: #f9fafb;
        }
    </style>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1TKX5YRZL3"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-1TKX5YRZL3');
    </script>
</head>

<body>
    <img src="./icon.png" alt="ZundaGPT2 ã‚¢ã‚¤ã‚³ãƒ³">
    <h1>ZundaGPT2</h1>
    <p class="tagline">ã‚­ãƒ£ãƒ©ã¨ã®å¯¾è©±ã‚’æ¥½ã—ã‚ã‚‹è»½é‡AIãƒãƒ£ãƒƒãƒˆã‚¢ãƒ—ãƒª</p>
    <div class="version" id="version">èª­ã¿è¾¼ã¿ä¸­...</div>
    <div class="downloads" id="downloads">å–å¾—ä¸­...</div>

    <script>
        const owner = "led-mirage";
        const repo = "ZundaGPT2";

        function detectOS(name) {
            if (name.includes("windows")) return "ğŸªŸã€€Windows (x64)";
            if (name.includes("linux")) return "ğŸ§ã€€Linux (x64)";
            if (name.includes("raspberrypi")) return "ğŸ“ã€€Raspberry Pi (ARM64)";
            return "ğŸ“¦ ãã®ä»–";
        }

        function osOrder(name) {
            if (name.includes("windows")) return 1;
            if (name.includes("linux")) return 2;
            if (name.includes("raspberrypi")) return 3;
            return 99;
        }

        async function fetchLatest(isJapanese) {
            const res = await fetch(`https://api.github.com/repos/${owner}/${repo}/releases/latest`);
            const data = await res.json();

            const versionLabel = isJapanese ? "æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³" : "Latest Version";
            const assetsNotFoundText = isJapanese ? "ã‚¢ã‚»ãƒƒãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚" : "No assets found.";

            document.getElementById("version").textContent = `${versionLabel}: ${data.tag_name}`;
            const box = document.getElementById("downloads");
            box.innerHTML = "";

            if (!data.assets?.length) {
                box.textContent = assetsNotFoundText;
                return;
            }

            const sorted = data.assets.sort((a, b) => osOrder(a.name) - osOrder(b.name));

            for (const asset of sorted) {
                const sizeMB = (asset.size / (1024 * 1024)).toFixed(1);
                const osName = detectOS(asset.name);

                const a = document.createElement("a");
                a.href = asset.browser_download_url;
                a.target = "_blank";
                a.innerHTML = `
          <span class="os-label">${osName}</span>
          <span class="size">${sizeMB} MB</span>
        `;
                box.appendChild(a);
            }
        }

        const lang = navigator.language || navigator.userLanguage;
        const isJapanese = lang.startsWith("ja");

        document.title = isJapanese ? "ZundaGPT2 Lite ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰" : "ZundaGPT2 Lite Download";

        document.querySelector(".tagline").textContent =
            isJapanese ? "ã‚­ãƒ£ãƒ©ã¨ã®å¯¾è©±ã‚’æ¥½ã—ã‚ã‚‹è»½é‡AIãƒãƒ£ãƒƒãƒˆã‚¢ãƒ—ãƒª"
                : "Lightweight AI chat app for engaging character conversations.";

        document.querySelector("#version").textContent =
            isJapanese ? "èª­ã¿è¾¼ã¿ä¸­..."
                : "Loading...";

        document.querySelector("#downloads").textContent =
            isJapanese ? "å–å¾—ä¸­..."
                : "Loading...";

        fetchLatest(isJapanese);
    </script>

    <div class="footer">Unlimited Code Works / Â© 2024-2025 led-mirage</div>
</body>

</html>
