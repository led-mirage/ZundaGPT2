body.dark-mode {
    background-color: var(--dark-body-bgcolor);
}

body.dark-mode .chat-container {
    background-color: var(--dark-container-bgcolor);
    color: #eaeaea;
}

body.dark-mode .chat-container::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: var(--dark-background-image);
    background-size: cover;
    background-position: center;
    opacity: var(--dark-background-image-opacity);
    z-index: -1;
}

body.dark-mode .header {
    background-color: var(--dark-header-bgcolor);
    color: var(--dark-header-color);
}

body.dark-mode footer {
    background-color: var(--dark-footer-bgcolor);
    color: var(--dark-footer-color);
}

body.dark-mode .welcome-title {
    color: var(--dark-welcome-title-color);
}

body.dark-mode .welcome-message {
    color: var(--dark-welcome-message-color);
}

body.dark-mode .chat-messages {
    background-color: var(--dark-chat-messages-bgcolor);
    color: var(--dark-chat-messages-color);
}

body.dark-mode .header button,
body.dark-mode .message-delete-btn,
body.dark-mode .chat-reanswer-btn,
body.dark-mode .message-copy-btn {
    background-color: var(--dark-tool-button-bgcolor);
    color: var(--dark-tool-button-color);
    border: var(--dark-tool-button-border);
}

body.dark-mode .header button:hover {
    background-color: var(--dark-tool-button-hover-bgcolor);
    color: var(--dark-tool-button-hover-color);
}

body.dark-mode .chat-input {
    background-color: var(--dark-chat-input-bgcolor);
    color: #eaeaea;
}

body.dark-mode .chat-input textarea {
    background-color: var(--dark-chat-input-textarea-bgcolor);
    color: var(--dark-chat-input-textarea-color);
    border: var(--dark-chat-input-textarea-border);
    border-radius: var(--dark-chat-input-textarea-border-radius);
}

body.dark-mode .chat-input textarea:focus {
    outline: var(--dark-chat-input-textarea-focus-outline);
}

body.dark-mode .chat-input button {
    background-image: var(--dark-chat-input-button-bgimage);
    color: var(--dark-chat-input-button-color);
}

body.dark-mode .chat-input button.submit-button-disabled {
    background-image: var(--dark-chat-input-button-disabled-bgimage);
}

body.dark-mode .speaker-name {
    text-shadow: var(--dark-speaker-name-text-shadow);
}

body.dark-mode .message-text {
    background-color: var(--dark-message-text-bgcolor);
    color: var(--dark-message-text-color);
    border-radius: var(--dark-message-text-border-radius);
    text-shadow: var(--dark-message-text-shadow);
}

body.dark-mode pre {
    background-color: var(--dark-code-bgcolor);
    color: var(--dark-code-color);
    border: var(--dark-code-border);
    border-radius: var(--dark-code-border-radius);
    box-shadow: var(--dark-code-box-shadow);
    padding: 1.2rem 1.6rem;
    font-size: 1rem;
    overflow-x: auto;
}

body.dark-mode .message-text pre code {
    background: none;
    color: inherit;
    border: none;
    padding: 0;
    box-shadow: none;
    text-shadow: none;
}

body.dark-mode .message-text code:not(pre > code) {
    background-color: var(--dark-inline-code-bgcolor);
    color: var(--dark-inline-code-color);
    text-shadow: none;
}

body.dark-mode .message-text em {
    color: var(--dark-message-text-em-color);
}

body.dark-mode .modal-content,
body.dark-mode .summary-modal-content {
    background-color: var(--dark-modal-bgcolor);
    color: var(--dark-modal-color);
    border: var(--dark-modal-border);
}

body.dark-mode .contextmenu {
    background-color: var(--dark-contextmenu-bgcolor);
    color: var(--dark-contextmenu-color);
    box-shadow: var(--dark-contextmenu-box-shadow);
}
body.dark-mode .contextmenu button {
    background-color: var(--dark-contextmenu-button-bgcolor);
    color: var(--dark-contextmenu-button-color);
}
body.dark-mode .contextmenu button:hover {
    background-color: var(--dark-contextmenu-button-hover-bgcolor);
}

@keyframes glowing-dark {
    0%, 100% { 
        opacity: 0.2;
        text-shadow: none;
    }
    50% { 
        opacity: 1;
        text-shadow: var(--dark-speaker-name-glowing-text-shadow);
    }
}

body.dark-mode .flowing-text {
    animation: glowing-dark 3s linear infinite;
    mix-blend-mode: lighten;
}

body.dark-mode .toast {
    background-color: var(--dark-toast-bgcolor);
    color: var(--dark-toast-color);
}

body.dark-mode .code-toast {
    background-color: var(--drak-code-toast-bgcolor);
    color: var(--dark-code-toast-color);
}

body.dark-mode table {
    background-color: #222;
    color: #eaeaea;
}
body.dark-mode th, 
body.dark-mode td {
    border: 1px solid #555;
    color: #eaeaea;
    background-color: transparent;
}
body.dark-mode thead {
    background-color: #333;
}
body.dark-mode th {
    background-color: #195675;
}
body.dark-mode th:nth-child(1),
body.dark-mode th:nth-child(2),
body.dark-mode td:nth-child(1),
body.dark-mode td:nth-child(2) {
    background-color: #23303a;
    color: #bde7ff;
}
body.dark-mode td:nth-child(1) {
    background-color: #2c2222;
    color: #ffb380;
}

body.dark-mode .remark {
    color: #aaa;
}
body.dark-mode a {
    color: #82b5ff;
}
body.dark-mode details {
    background-color: #23272e;
    border: 1px solid #444;
    color: #eaeaea;
}
body.dark-mode details:hover {
    background-color: #283848;
}
body.dark-mode summary {
    border-bottom: 1px solid #444;
    color: #9cf;
}

body.dark-mode .match-context {
    color: #ddd;
    font-size: 0.8rem;
}
