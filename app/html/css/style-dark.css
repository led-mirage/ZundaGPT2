body.dark-mode {
    background-color: var(--dark-body-bgcolor);
}

body.dark-mode .chat-container {
    background-color: var(--dark-container-bgcolor) !important;
    color: #eaeaea !important;
}

body.dark-mode .chat-container::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: var(--dark-background-image);
    background-size: cover;
    background-position: center;
    opacity: var(--dark-background-image-opacity);
    z-index: -1;
}

body.dark-mode .header {
    background-color: var(--dark-header-bgcolor) !important;
    color: var(--dark-header-color) !important;
}

body.dark-mode footer {
    background-color: var(--dark-footer-bgcolor) !important;
    color: var(--dark-footer-color) !important;
}

body.dark-mode .welcome-title {
    color: var(--dark-welcome-title-color);
}

body.dark-mode .welcome-message {
    color: var(--dark-welcome-message-color);
}

body.dark-mode .chat-messages {
    background-color: var(--dark-chat-messages-bgcolor) !important;
    color: var(--dark-chat-messages-color) !important;
}

body.dark-mode .header button,
body.dark-mode .message-delete-btn,
body.dark-mode .chat-reanswer-btn,
body.dark-mode .message-copy-btn {
    background-color: var(--dark-tool-button-bgcolor) !important;
    color: var(--dark-tool-button-color) !important;
    border: var(--dark-tool-button-border);
}

body.dark-mode .header button:hover {
    background-color: var(--dark-tool-button-hover-bgcolor) !important;
    color: var(--dark-tool-button-hover-color) !important;
}

body.dark-mode .chat-input {
    background-color: var(--dark-chat-input-bgcolor) !important;
    color: #eaeaea !important;
}

body.dark-mode .chat-input textarea {
    background-color: var(--dark-chat-input-textarea-bgcolor) !important;
    color: var(--dark-chat-input-textarea-color) !important;
    border: var(--dark-chat-input-textarea-border) !important;
    border-radius: var(--dark-chat-input-textarea-border-radius) !important;
}

body.dark-mode .chat-input textarea:focus {
    outline: var(--dark-chat-input-textarea-focus-outline);
}

body.dark-mode .chat-input button {
    background-image: var(--dark-chat-input-button-bgimage) !important;
    color: var(--dark-chat-input-button-color) !important;
}

body.dark-mode .chat-input button.submit-button-disabled {
    background-image: var(--dark-chat-input-button-disabled-bgimage) !important;
}

body.dark-mode .speaker-name {
    text-shadow: var(--dark-speaker-name-text-shadow);
}

body.dark-mode .message-text {
    background-color: var(--dark-message-text-bgcolor);
    color: var(--dark-message-text-color);
    border-radius: var(--dark-message-text-border-radius);
    box-shadow: var(--dark-message-text-shadow);
}

body.dark-mode pre {
    background-color: var(--dark-code-bgcolor) !important;
    color: var(--dark-code-color) !important;
    border: var(--dark-code-border) !important;
    border-radius: var(--dark-code-border-radius) !important;
    box-shadow: var(--dark-code-box-shadow) !important;
    padding: 1.2rem 1.6rem !important;
    font-size: 1rem !important;
    overflow-x: auto !important;
}

body.dark-mode .message-text pre code {
    background: none !important;
    color: inherit !important;
    border: none !important;
    padding: 0 !important;
    box-shadow: none !important;
    text-shadow: none !important;
}

body.dark-mode .message-text code:not(pre > code) {
    background-color: var(--dark-inline-code-bgcolor) !important;
    color: var(--dark-inline-code-color) !important;
    text-shadow: none !important;
}

body.dark-mode .message-text em {
    color: var(--dark-message-text-em-color);
}

body.dark-mode .modal-content,
body.dark-mode .summary-modal-content {
    background-color: var(--dark-modal-bgcolor) !important;
    color: var(--dark-modal-color) !important;
    border: var(--dark-modal-border) !important;
}

body.dark-mode .contextmenu {
    background-color: var(--dark-contextmenu-bgcolor) !important;
    color: var(--dark-contextmenu-color) !important;
    box-shadow: var(--dark-contextmenu-box-shadow);
}
body.dark-mode .contextmenu button {
    background-color: var(--dark-contextmenu-button-bgcolor);
    color: var(--dark-contextmenu-button-color) !important;
}
body.dark-mode .contextmenu button:hover {
    background-color: var(--dark-contextmenu-button-hover-bgcolor);
}

@keyframes glowing-dark {
    0%, 100% { 
        opacity: 0.2;
        text-shadow: none;
    }
    50% { 
        opacity: 1;
        text-shadow: var(--dark-speaker-name-glowing-text-shadow);
    }
}

body.dark-mode .flowing-text {
    animation: glowing-dark 3s linear infinite !important;
    mix-blend-mode: lighten;
}

body.dark-mode .toast {
    background-color: var(--dark-toast-bgcolor);
    color: var(--dark-toast-color);
}

body.dark-mode .code-toast {
    background-color: var(--drak-code-toast-bgcolor);
    color: var(--dark-code-toast-color);
}

body.dark-mode table {
    background-color: #222 !important;
    color: #eaeaea !important;
}
body.dark-mode th, 
body.dark-mode td {
    border: 1px solid #555 !important;
    color: #eaeaea !important;
    background-color: transparent !important;
}
body.dark-mode thead {
    background-color: #333 !important;
}
body.dark-mode th {
    background-color: #195675 !important;
}
body.dark-mode th:nth-child(1),
body.dark-mode th:nth-child(2),
body.dark-mode td:nth-child(1),
body.dark-mode td:nth-child(2) {
    background-color: #23303a !important;
    color: #bde7ff !important;
}
body.dark-mode td:nth-child(1) {
    background-color: #2c2222 !important;
    color: #ffb380 !important;
}

body.dark-mode .remark {
    color: #aaa !important;
}
body.dark-mode a {
    color: #82b5ff !important;
}
body.dark-mode details {
    background-color: #23272e !important;
    border: 1px solid #444 !important;
    color: #eaeaea !important;
}
body.dark-mode details:hover {
    background-color: #283848 !important;
}
body.dark-mode summary {
    border-bottom: 1px solid #444 !important;
    color: #9cf !important;
}

body.dark-mode .match-context {
    color: #ddd;
    font-size: 0.8rem;
}
